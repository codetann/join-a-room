(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(n,e,t){"use strict";t.r(e);var r,o,i,a,c,s,d,u=t(0),b=t.n(u),l=t(53),f=t.n(l),j=(t(62),t(24)),m=t(4),h=t(2),x=t(14),O=t(3),g=t(26),p=t(103),k=t(54),M=t(1),w=Object(k.io)("/"),v=Object(u.createContext)(),y=function(){return Object(u.useContext)(v)};function I(n){var e=n.children,t=Object(u.useState)(""),r=Object(x.a)(t,2),o=r[0],i=r[1],a=Object(u.useState)(Object(p.a)()),c=Object(x.a)(a,2),s=c[0],d=c[1],b=Object(u.useState)(""),l=Object(x.a)(b,2),f=l[0],j=l[1],m=Object(u.useState)([]),h=Object(x.a)(m,2),O=h[0],k=h[1],y=Object(u.useState)(!0),I=Object(x.a)(y,2),D=I[0],C=I[1];function z(){w.on("message",(function(n){var e=n.message,t=n.userId,r=n.username;k((function(n){return[].concat(Object(g.a)(n),[{message:e,userId:t,username:r}])}))})),w.on("sign-in",(function(n){var e=n.message,t=n.userId,r=n.username;k((function(n){return[].concat(Object(g.a)(n),[{message:e,userId:t,username:r}])}))}))}Object(u.useEffect)((function(){z(),w.on("disconnection",(function(n){var e=n.message,t=n.userId,r=n.username;k((function(n){return[].concat(Object(g.a)(n),[{message:e,userId:t,username:r}])}))}))}),[]);var S={socket:w,username:o,userId:s,roomId:f,messages:O,receiveMessage:z,sendMessage:function(n){w.emit("message",n)},signIn:function(n){k([]);var e=n.roomId,t=n.username;w.emit("sign-in",{roomId:e,username:t,userId:s}),i(t),j(e)},darkMode:D,setDarkMode:C,setUserId:d};return Object(M.jsx)(v.Provider,{value:S,children:e})}function D(){var n=Object(u.useRef)(),e=Object(u.useRef)(),t=Object(m.e)(),r=Object(u.useState)(!1),o=Object(x.a)(r,2),i=o[0],a=o[1],c=y(),s=c.signIn,d=c.darkMode,b=c.setDarkMode;return Object(M.jsxs)(G,{darkMode:d,children:[Object(M.jsx)(H,{darkMode:d,children:Object(M.jsx)(T,{onClick:function(){return b((function(n){return!n}))},children:Object(M.jsx)(W,{darkMode:d,className:"fas fa-".concat(d?"moon":"sun")})})}),Object(M.jsx)("h1",{children:"Join a Room"}),Object(M.jsx)("hr",{}),i&&Object(M.jsx)("p",{children:i}),Object(M.jsxs)(K,{darkMode:d,children:[Object(M.jsx)("i",{className:"far fa-user"}),Object(M.jsx)(L,{ref:n,placeholder:"Username",darkMode:d,type:"text"})]}),Object(M.jsxs)(K,{darkMode:d,children:[Object(M.jsx)("i",{className:"fas fa-home"}),Object(M.jsx)(L,{ref:e,placeholder:"Room Name",darkMode:d,type:"text"})]}),Object(M.jsx)(Q,{onClick:function(){""!==n.current.value&&""!==e.current.value?(s({roomId:e.current.value,username:n.current.value}),t.push("/chatroom"),n.current.value="",e.current.value=""):a("Please enter a username and room")},children:"Join"})]})}var C,z,S,R,N,E,J,B,F,P,U,V,q,A,G=O.a.div(r||(r=Object(h.a)(["\n  transition: 0.3s;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  background: ",";\n\n  hr {\n    height: 6px;\n    width: 40px;\n    background: #0dca92;\n    border: none;\n    border-radius: 0.4rem;\n    margin-bottom: 2rem;\n    transition: 0.3s;\n  }\n  h1 {\n    color: #0dca92;\n    margin-bottom: 2rem;\n    font-weight: bold;\n    font-size: 45px;\n    transition: 0.3s;\n  }\n\n  p {\n    font-weight: lighter;\n    margin-bottom: 1rem;\n    color: #ff0000;\n    transition: 0.3s;\n  }\n"])),(function(n){return n.darkMode?"#0D1117":"white"})),H=O.a.div(o||(o=Object(h.a)(["\n  transition: 0.3s;\n  position: fixed;\n  width: 100%;\n  max-width: 1000px;\n  background: ",";\n  color: ",";\n  height: 5rem;\n  top: 0;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 0 1rem;\n"])),(function(n){return n.darkMode?"#0D1117":"white"}),(function(n){return n.darkMode?"white":"black"})),K=O.a.div(i||(i=Object(h.a)(["\n  transition: 0.3s;\n  width: 300px;\n  height: 50px;\n  border: 2px solid ",";\n  color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 0.4rem;\n  transition: 0.2s;\n  margin: 1rem 0;\n\n  &:focus-within {\n    border: 2px solid #0dca92;\n\n    i {\n      color: #0dca92;\n    }\n  }\n\n  i {\n    transition: 0.2s;\n    width: 20%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 18px;\n  }\n\n  &:hover {\n    border: 2px solid #0dca92;\n\n    i {\n      color: #0dca92;\n    }\n  }\n"])),(function(n){return n.darkMode?"#616f83":"#bebebe"}),(function(n){return n.darkMode?"#47566b":"#bebebe"})),L=O.a.input(a||(a=Object(h.a)(["\n  transition: 0.3s;\n  width: 100%;\n  height: 100%;\n  border: none;\n  border-radius: 0.4rem;\n  outline: none;\n  color: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n"])),(function(n){return n.darkMode?"#ffffff":"#1f1f1f"}),(function(n){return n.darkMode?"#616f83":"#bebebe"})),Q=O.a.button(c||(c=Object(h.a)(["\n  padding: 1rem 3rem;\n  background-color: #0dca92;\n  color: white;\n  font-weight: bold;\n  border-radius: 2rem;\n  border: none;\n  outline: none;\n  margin-top: 2rem;\n  cursor: pointer;\n  transition: 0.2s;\n\n  &:hover {\n    opacity: 0.8;\n  }\n"]))),T=O.a.button(s||(s=Object(h.a)(["\n  border: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  background: none;\n"]))),W=O.a.i(d||(d=Object(h.a)(["\n  transition: 0.3s;\n  font-size: 28px;\n  background: none;\n  color: ",";\n  border: none;\n  cursor: pointer;\n"])),(function(n){return n.darkMode?"#9b94fa":"#F7BC07"}));function X(){var n=Object(u.useRef)(),e=Object(u.useRef)(null),t=Object(m.e)(),r=y(),o=r.sendMessage,i=r.messages,a=r.roomId,c=r.userId,s=r.username,d=r.darkMode,b=r.setDarkMode;return Object(u.useEffect)((function(){e.current.scrollIntoView({behavior:"smooth"})}),[i]),Object(u.useEffect)((function(){""===a&&t.push("/")}),[]),Object(M.jsxs)(Y,{darkMode:d,children:[Object(M.jsxs)(rn,{darkMode:d,children:[Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(on,{onClick:function(n){n.preventDefault(),t.push("/")},role:"button",className:"fas fa-arrow-left"}),Object(M.jsxs)("p",{children:["Room: ",a]})]}),Object(M.jsx)(dn,{onClick:function(){return b((function(n){return!n}))},children:Object(M.jsx)(un,{darkMode:d,className:"fas fa-".concat(d?"moon":"sun")})})]}),Object(M.jsxs)(Z,{children:[i.map((function(n,e){return n.userId===c?Object(M.jsxs)($,{darkMode:d,children:[Object(M.jsx)(_,{children:n.message}),Object(M.jsx)(en,{darkMode:d,children:n.username})]},e):Object(M.jsxs)(nn,{darkMode:d,children:[Object(M.jsx)(tn,{darkMode:d,children:n.message}),Object(M.jsx)(en,{darkMode:d,children:n.username})]},e)})),Object(M.jsxs)(an,{darkMode:d,children:[Object(M.jsx)(cn,{ref:n,type:"text",darkMode:d}),Object(M.jsx)(sn,{onClick:function(e){e.preventDefault(),""!==n.current.value&&(o({userId:c,message:n.current.value,roomId:a,username:s}),n.current.value="")},children:"Send"})]}),Object(M.jsx)("div",{ref:e})]})]})}var Y=O.a.div(C||(C=Object(h.a)(["\n  transition: 0.3s;\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  padding: 4rem 1rem;\n  background: ",";\n"])),(function(n){return n.darkMode?"#0D1117":"white"})),Z=O.a.div(z||(z=Object(h.a)(["\n  transition: 0.3s;\n  bottom: 0;\n  width: 100%;\n  max-width: 1000px;\n  padding: 0 1rem;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-direction: column;\n  max-height: 100%;\n"]))),$=O.a.div(S||(S=Object(h.a)(["\n  transition: 0.3s;\n  height: auto;\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n  flex-direction: column;\n  margin: 1rem;\n"]))),_=O.a.p(R||(R=Object(h.a)(["\n  transition: 0.3s;\n  padding: 1rem;\n  background: #0dca92;\n  color: white;\n  border-radius: 1.3rem 1.3rem 0.3rem 1.3rem;\n  max-width: 90%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: 0.3s;\n"]))),nn=O.a.div(N||(N=Object(h.a)(["\n  height: auto;\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n  flex-direction: column;\n  margin: 1rem;\n  transition: 0.3s;\n"]))),en=O.a.p(E||(E=Object(h.a)(["\n  transition: 0.3s;\n  transition: 0.3s;\n  font-size: 14px;\n  color: ",";\n"])),(function(n){return n.darkMode?"white":"black"})),tn=O.a.p(J||(J=Object(h.a)(["\n  transition: 0.3s;\n  padding: 1rem;\n  background: ",";\n  color: ",";\n  border-radius: 1.3rem 1.3rem 1.3rem 0.3rem;\n  max-width: 90%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(n){return n.darkMode?"#222b38":"#f7f7f5"}),(function(n){return n.darkMode?"white":"#131313"})),rn=O.a.div(B||(B=Object(h.a)(["\n  transition: 0.3s;\n  position: fixed;\n  z-index: 3;\n  width: 100%;\n  max-width: 1000px;\n  background: ",";\n  color: ",";\n  height: 5rem;\n  top: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 1rem;\n"])),(function(n){return n.darkMode?"#0D1117":"white"}),(function(n){return n.darkMode?"white":"black"})),on=O.a.i(F||(F=Object(h.a)(["\n  font-size: 18px;\n  margin-right: 1rem;\n  cursor: pointer;\n"]))),an=O.a.form(P||(P=Object(h.a)(["\n  transition: 0.3s;\n  position: fixed;\n  width: 100%;\n  max-width: 1000px;\n  background: ",";\n  height: 5rem;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 1rem;\n"])),(function(n){return n.darkMode?"#0D1117":"white"})),cn=O.a.input(U||(U=Object(h.a)(["\n  transition: 0.3s;\n  height: 3rem;\n  width: 80%;\n  border: 2px solid ",";\n  color: ",";\n  outline: none;\n  padding-left: 1rem;\n  border-radius: 1.5rem 0 0 1.5rem;\n"])),(function(n){return n.darkMode?"#222b38":"#bebebe"}),(function(n){return n.darkMode?"white":"black"})),sn=O.a.button(V||(V=Object(h.a)(["\n  width: 20%;\n  height: 3rem;\n  cursor: pointer;\n  background: #0dca92;\n  color: white;\n  font-weight: bold;\n  border-radius: 0 1.5rem 1.5rem 0rem;\n  border: 1px solid #0dca92;\n"]))),dn=O.a.button(q||(q=Object(h.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 24px;\n"]))),un=O.a.i(A||(A=Object(h.a)(["\n  transition: 0.3s;\n  font-size: 28px;\n  background: none;\n  color: ",";\n  border: none;\n  cursor: pointer;\n"])),(function(n){return n.darkMode?"#9b94fa":"#F7BC07"}));var bn=function(){return Object(M.jsxs)(j.a,{children:[Object(M.jsx)(m.a,{path:"/",exact:!0,component:D}),Object(M.jsx)(m.a,{path:"/chatroom",component:X})]})};f.a.render(Object(M.jsx)(b.a.StrictMode,{children:Object(M.jsx)(I,{children:Object(M.jsx)(bn,{})})}),document.getElementById("root"))},62:function(n,e,t){}},[[101,1,2]]]);
//# sourceMappingURL=main.02b43c60.chunk.js.map